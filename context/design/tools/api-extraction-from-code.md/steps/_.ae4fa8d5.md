---
timestamp: 'Tue Oct 28 2025 21:11:54 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251028_211154.1ae0445e.md]]'
content_id: ae4fa8d54eb03bc3e4a1dcec77ee596b7d587e25628468cf1ab79bdaf0d628f7
---

# Missing API Endpoints

The following public-facing API endpoints were found in the implementation but are not documented in `design/tools/api-extraction-from-code.md`.

## Category Concept (/api/Category)

* **/api/Category/getCategoryNameById**: Retrieves the name of a single category.
* **/api/Category/getCategoriesFromOwner**: Retrieves all category IDs belonging to a specific owner.
* **/api/Category/getMetricStats**: Computes and returns statistics (total, count, average) for a category over a given period.

## Label Concept (/api/Label)

* **/api/Label/getLabel**: Retrieves a single committed label.
* **/api/Label/getCategoryHistory**: Retrieves the spending history for a category.
* **/api/Label/get\_category\_tx**: Retrieves all transaction IDs associated with a specific category.
* **/api/Label/get\_tx\_in\_trash**: Retrieves all transaction IDs that have been moved to the trash.
* **/api/Label/getStagedLabels**: Retrieves all currently staged (uncommitted) labels for a user.
* **/api/Label/hasAnyLabelsForCategory**: Checks if a category is referenced by any labels.
* **/api/Label/suggest**: Provides an AI-powered suggestion for categorizing a transaction.

## Transaction Concept (/api/Transaction)

* **/api/Transaction/getTransaction**: Retrieves a single transaction document.
* **/api/Transaction/get\_labeled\_transactions**: Retrieves all of a user's transactions that have the status `LABELED`.
* **/api/Transaction/getTxInfo**: Retrieves the parsed information (date, merchant, amount) for a single transaction.

## User Concept (/api/User)

* **/api/User/all**: Retrieves a list of all users.

## Category Concept

Specification:

**concept:** Category\[ID]

**purpose:** allow users to define and manage meaningful groupings of their transactions

**principle:** categories are user-defined and reusable; if a user creates categories and later renames or deletes one, then names remain unique per user; deletion is blocked while referenced by labels.

**state:**

> a set of Categories with
>
> > a name String
> > a category\_id ID\
> > an owner\_id ID

> a set of CategoryMetrics with
>
> > an owner\_id ID\
> > a category\_id ID\
> > a list of transactions, where each transaction has:
> >
> > > a tx\_id ID
> > > an amount Number
> > > a tx\_date Date

**actions:**

> create(owner\_id: ID, name: String): (category\_id: ID)
>
> > *requires:*\
> > user owner\_id exists; for the same owner\_id, no existing category with same name\
> > *effects:*\
> > generates a new category\_id; creates and stores a category under owner\_id associated with name; returns it

> rename(owner\_id: ID, category\_id: ID, new\_name: String): (category\_id: ID)
>
> > *requires:*\
> > category exists and category.owner\_id = owner\_id; for the same owner\_id, no existing category with same new\_name\
> > *effects:*\
> > updates category.name to new\_name; returns updated category\_id

> delete(owner\_id: ID, category\_id: ID, can\_delete : Boolean): (ok: Boolean)
>
> > *requires:*\
> > category exists and category.owner\_id = owner\_id; can\_delete = true (derived from whether any labels reference this category)
> > *effects:*\
> > removes the category and its associated metrics; returns true

> addTransaction(owner\_id: ID, category\_id: ID, tx\_id: ID, amount: Number, tx\_date: Date): (ok: Boolean)
>
> > *requires:* owner and category exist; amount â‰¥ 0; transaction with tx\_id is not already recorded for this category
> > *effects:* adds the transaction record to the metric for (owner, category); returns true

> removeTransaction(owner\_id: ID, category\_id: ID, tx\_id: ID): (ok: Boolean)
>
> > *requires:* owner and category exist; transaction with tx\_id is recorded for this category
> > *effects:* removes the transaction record from the metric for (owner, category); returns true

**invariants:**

* (owner\_id, name) is unique among Categories
* category\_id is unique for the same user
* categories cannot belong to multiple users
* (owner\_id, category\_id) uniquely identifies a CategoryMetric document
* Each transaction entry is unique by tx\_id within a CategoryMetric document
* Transaction amounts are nonnegative

Implementation:
